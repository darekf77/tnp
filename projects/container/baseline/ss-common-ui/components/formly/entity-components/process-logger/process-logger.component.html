<p [attr.disabled]="!process" >
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{process && process.name}}
      </mat-panel-title>
      <mat-panel-description>
        {{ (process && process.progress && isNumber(process.progress.value)) ? (process.progress.value + '%'): '-'  }}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <code>{{process && process.cmd}}</code>
    <app-button-icon [icon]="icon"
                     (action)="action()"
                     [label]="label"></app-button-icon>
    <app-button-icon [icon]="'info'"
                     [label]="''"
                     (dblclick)="reset()"
                     (action)="isOpen = !isOpen"></app-button-icon>
  </mat-expansion-panel>

</p>
<standalone-popup [id]="id"
                  [title]="title"
                  [pinned]="pinned"
                  (close)="onClose()"
                  (pin)="onPin($event)"
                  *ngIf="process && isOpen"
                  [contentComponent]="popupContent"></standalone-popup>

<ng-template #popupContent>
  <mat-tab-group style="height: 300px">
    <mat-tab label="Info Messages">
      <app-process-info-message  [model]="model" ></app-process-info-message>
    </mat-tab>
    <mat-tab label="Console Output">
      <app-process-console-info [model]="model" ></app-process-console-info>
    </mat-tab>
    <mat-tab label="Console Errors">
      <app-process-console-info [model]="model" outputType='stder' ></app-process-console-info>
    </mat-tab>
  </mat-tab-group>
</ng-template>
