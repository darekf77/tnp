<ng-template #templateDelete>

  <h1 mat-dialog-title>Delete action</h1>
  <div mat-dialog-content>
    <p>Confirm delete model with id {{id_toDelete}}</p>
  </div>
  <div mat-dialog-actions>
    <button mat-button
            (click)="onNoClick()">cancel</button>
    <button mat-button
            (click)="delete(id_toDelete)"
            [mat-dialog-close]="id_toDelete"
            cdkFocusInitial>Ok</button>
  </div>

</ng-template>

<form *ngIf="formly.form"
      (ngSubmit)="ngSubmit(model)"
      [formGroup]="formly.form">
  <formly-form [model]="model"
               [fields]="formly.fields"
               [options]="formly.options"
               [form]="formly.form">
    <button mat-raised-button
            *ngIf="mode === 'update'"
            type="submit"
            [disabled]="!formly.form.valid">{{mode | ucfirst}}
    </button>
    <button mat-raised-button
            *ngIf="mode === 'create'"
            type="submit"
            [disabled]="!formly.form.valid">Create
    </button>
    <button mat-button
            (click)="clear()">Clear</button>


    <button mat-icon-button
            (click)="openDeleteDialog(model.id)"
            type="button">
      <mat-icon aria-label="Example icon-button with a heart icon">delete_forever</mat-icon>
    </button>
  </formly-form>

</form>
