<p [attr.disabled]="!process">
  <!-- <span *ngIf="process._allProgressData">
    {{process._allProgressData | json}}
  </span> -->

  <mat-expansion-panel *ngIf="size === 'normal'"
                       [(expanded)]="isExpanded">
    <mat-expansion-panel-header>
      <mat-panel-title>
        {{process && process.name}}
      </mat-panel-title>
      <mat-panel-description [style.color]="color">
        {{ progress }}
      </mat-panel-description>
    </mat-expansion-panel-header>
    <code>
       {{ process.cmd }}
    </code>
    <br>
    <app-button-icon [icon]="icon"
                     [color]="color"
                     (action)="action()"
                     [label]="label"></app-button-icon>
    <app-button-icon [icon]="'info'"
                     [color]="color"
                     [label]="''"
                     long-press
                     (onLongPressEnd)="onLongPressEnd()"
                     (action)="isOpen = !isOpen"></app-button-icon>
  </mat-expansion-panel>

  <span *ngIf="size === 'compact'"
        class="compact">
    <app-button-icon [icon]="icon"
                     [color]="color"
                     (action)="action()"
                     [label]="label"></app-button-icon>
    <app-button-icon [icon]="'info'"
                     [color]="color"
                     [label]="''"
                     (dblclick)="reset()"
                     (action)="openOrClose()"></app-button-icon>
    <hr>
    {{isOpen}}
  </span>

</p>
<!-- <standalone-popup [id]="id"


                  (close)="onClose()"
                  [pinned]="pinned"
                  (pin)="onPin($event)"
                  *ngIf="process && isOpen"
                  [contentComponent]="popupContent"></standalone-popup> -->


<app-draggable-popup #popup
                     [id]="id"
                     [title]="title"
                     [(pinned)]="isOpenOnStart"
                     [(isOpen)]="isOpen"
                     (onPin)="onPin($event)"
                     *ngIf="process && isOpen">

  <!-- <ng-container class="app-custom-header">

  </ng-container> -->
  <code>{{cmd}}</code>
  <!-- popup.height: {{ popup.height }} -->
  <mat-tab-group>

    <mat-tab label="Messages">

      <app-process-info-message [model]="model"
                                [changes]="changes"></app-process-info-message>

    </mat-tab>
    <mat-tab label="Console Output">

      <app-process-console-info [model]="model"
                                [changes]="changes"
                                outputType="stdout"></app-process-console-info>

    </mat-tab>
    <mat-tab label="Console Errors">
      <app-process-console-info [model]="model"
                                [changes]="changes"
                                outputType="stder"></app-process-console-info>

    </mat-tab>
  </mat-tab-group>
  <!-- <ng-container class="app-custom-footer">
    <h1>Hello</h1>
   </ng-container> -->
</app-draggable-popup>
